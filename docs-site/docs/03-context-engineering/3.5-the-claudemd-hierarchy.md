---
sidebar_position: 5
sidebar_label: "The CLAUDE.md Hierarchy"
title: "The CLAUDE.md Hierarchy Reference"
diataxis_type: reference
estimated_time: 15
module_id: "3.5"
description: "Complete reference for Claude Code's layered context system — every level, location, scope, and precedence rule."
---

# The CLAUDE.md Hierarchy Reference

> All the places Claude Code loads instructions from, how they layer together, and when to use each one.

## Overview

Claude Code does not read a single instructions file. It reads a **hierarchy** of context files, layered from broad (user-wide) to narrow (project-specific). Each level serves a different purpose. Understanding this hierarchy lets you put the right instructions at the right level.

## Context Levels

| Level | File Location | Scope | Shared via Git? | When Loaded |
|-------|--------------|-------|-----------------|-------------|
| User Memory | `~/.claude/CLAUDE.md` | All projects for this user | No | Every session |
| Enterprise Policy | Set by organisation admin | All users in the org | N/A | Every session |
| Project Rules | `CLAUDE.md` in project root | Everyone working on this project | Yes | When in this project |
| Project Local | `.claude/CLAUDE.local.md` | Only you, in this project | No (gitignored) | When in this project |
| Auto Memory | `.claude/auto-memory.md` | This project | Yes | When in this project |

### User Memory (`~/.claude/CLAUDE.md`)

Your personal preferences that apply to every project. This is the place for:

- Your preferred coding style
- Your name and identity for commit messages
- Editor and tool preferences
- Default behaviours you always want

```markdown title="~/.claude/CLAUDE.md"
## Identity
- GitHub username: doyeongk

## Style
- Australian English for prose
- Concise, technical responses
```

This file lives in your home directory. It is never committed to any project repository. Other collaborators have their own version.

### Project Rules (`CLAUDE.md`)

The main project instructions file, checked into the repository. Everyone who works on the project sees the same rules. This is for:

- Project architecture and structure
- Conventions (naming, formatting, patterns)
- Build and test commands
- Dependencies and relationships between components

This is the file we examined in Module 3.2 — the one that has been shaping your learning experience.

### Project Local (`.claude/CLAUDE.local.md`)

Your personal overrides for a specific project. Gitignored, so only you see these. Use this for:

- Personal workflow preferences that differ from the team
- Temporary instructions for a specific task
- Notes to yourself about the project

### Auto Memory (`.claude/auto-memory.md`)

Automatically generated by Claude Code when it learns something about the project during a session. If you tell Claude Code "always use tabs for indentation in this project," it may save that to auto-memory so it remembers next session.

## Precedence Rules

When the same topic is addressed at multiple levels, narrower scope wins:

1. Project Local overrides Project Rules
2. Project Rules override User Memory
3. Explicit instructions override auto-generated memory

In practice, conflicts are rare if you put instructions at the right level. User preferences go in User Memory. Project standards go in Project Rules. Personal tweaks go in Project Local.

## The `@` Import Syntax

CLAUDE.md files can import other files using the `@` syntax:

```markdown title="CLAUDE.md"
## Skills
@.claude/skills/training-delivery/SKILL.md
@.claude/skills/diataxis/SKILL.md
```

This loads the contents of those files into the context as if they were part of CLAUDE.md. It is how this project loads skills on demand — keeping the base CLAUDE.md lean while making detailed reference material available.

## This Project's Hierarchy

This learning project uses the hierarchy as follows:

| Level | Contents |
|-------|----------|
| User Memory | Your personal preferences (GitHub username, language, style) |
| Project Rules (`CLAUDE.md`) | Architecture, command system, skills, progress tracking, conventions |
| Project Local | Not used in this project |
| Auto Memory | Accumulated learnings from sessions |

The Project Rules file is the most important. It defines:
- The module ID system (`X.Y` format)
- The file naming convention (`X.Y-slug.md`)
- The progress tracking schema
- The command launcher structure
- The skill reference system

Without it, Claude Code would not know this is a learning platform. With it, every session starts with full awareness of the project's architecture and purpose.

## Best Practices

**Keep each level focused.** User Memory is for *you*. Project Rules are for the *project*. Do not put personal preferences in Project Rules, and do not put project architecture in User Memory.

**Keep CLAUDE.md under 1000 words.** Use imports (`@`) for detailed reference material. The base file should be a concise overview, not an encyclopaedia.

**Use Project Local for experiments.** Trying a new convention? Put it in `.claude/CLAUDE.local.md` first. If it works, promote it to Project Rules.

**Review auto-memory periodically.** Claude Code adds to `.claude/auto-memory.md` over time. Review it occasionally to remove outdated information and promote useful discoveries to the main CLAUDE.md.

## Knowledge Check

1. If your `~/.claude/CLAUDE.md` says "use tabs" and the project's `CLAUDE.md` says "use spaces", which takes precedence?
   - A) User Memory (tabs) — personal preferences always win
   - B) Project Rules (spaces) — narrower scope wins
   - C) Whichever file was modified most recently
   - D) Claude Code will ask you to resolve the conflict

2. In your own words, explain why it makes sense to have multiple levels of instructions rather than putting everything in one file.

## See Also

- [What Is Context?](./3.1-what-is-context.md) — the conceptual foundation for why this hierarchy exists
- [The CLAUDE.md You're Already Using](./3.2-the-claudemd-youre-already-using.md) — hands-on exploration of Project Rules
- [Signal, Noise, and the Attention Budget](./3.3-signal-noise-and-the-attention-budget.md) — why layered context beats a single large file
