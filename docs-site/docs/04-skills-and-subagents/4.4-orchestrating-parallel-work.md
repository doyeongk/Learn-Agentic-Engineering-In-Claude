---
sidebar_position: 4
sidebar_label: "Orchestrating Parallel Work"
title: "Tutorial: Orchestrating Parallel Work"
diataxis_type: tutorial
estimated_time: 30
module_id: "4.4"
description: "Build a daily-digest command that uses a skill for formatting and subagents for parallel data gathering."
---

# Tutorial: Orchestrating Parallel Work

> **What you will build**: A `/project:daily-digest` command that launches parallel subagents to gather information, then formats the results using a custom skill.
>
> **Prerequisites**: Understanding of skills ([Module 4.1](./4.1-what-are-skills.md)) and subagents ([Module 4.3](./4.3-subagents-isolated-workers.md)). Claude Code installed.
>
> **Time**: ~30 minutes

## Introduction

We are going to combine everything from this section into a single working command. The daily-digest command will:

1. Launch two subagents in parallel to gather information about your project
2. Use a formatting skill to structure the results consistently
3. Present a clean daily summary

This is the pattern that powers complex Claude Code workflows: commands orchestrate, skills provide knowledge, and subagents do parallel work.

## Step 1: Plan the Architecture

Before writing anything, let us design what we are building:

```
daily-digest command
├── Launches Subagent 1: "What files changed recently?"
├── Launches Subagent 2: "What is the current progress status?"
├── Collects results from both
├── Loads formatting skill
└── Presents formatted digest
```

The command file orchestrates. The subagents gather. The skill formats. Each piece has a clear role.

## Step 2: Create the Formatting Skill

First, let us create the skill that controls how the digest looks. Ask Claude Code:

```
Create the directory .claude/skills/digest-formatter/ and create a SKILL.md file inside it.
```

Write this content:

```markdown title=".claude/skills/digest-formatter/SKILL.md"
# Digest Formatter Skill

Formats a daily project digest into a consistent, scannable structure.

## Output Format

Present the digest as follows:

### Daily Digest — [Date]

**Recent Activity**
[Summarise file changes and recent commits in 2-3 bullet points.
Focus on what changed, not technical details.]

**Learning Progress**
[Summarise curriculum progress: modules completed, current module,
percentage complete. Include a simple progress bar.]

**Suggested Next Step**
[One clear, actionable recommendation for what to work on next.]

## Rules

- Keep the total digest under 200 words
- Use plain language — no jargon
- The progress bar format is: [████░░░░░░] 40%
- Always include all three sections, even if a section has minimal content
- Date format: DD Month YYYY (e.g., 22 February 2026)
```

## Step 3: Create the Command File

Now create the command that orchestrates everything. Ask Claude Code:

```
Create the file .claude/commands/daily-digest.md
```

Write this content:

```markdown title=".claude/commands/daily-digest.md"
# Daily Digest

Generate a daily summary of project activity and learning progress.

## Steps

1. Read the formatting skill at `.claude/skills/digest-formatter/SKILL.md`.

2. Launch two parallel research tasks using the Task tool:

   **Task A — Recent Activity**:
   Prompt: "Check the git log for the last 7 days of commits in this repository. List the commit messages, dates, and which files were changed. Summarise the recent activity in 2-3 bullet points."

   **Task B — Learning Progress**:
   Prompt: "Read the progress.json file in the project root. Count how many modules have status 'completed', 'in_progress', and 'not_started'. Calculate the completion percentage. Report the current module (the first one with status 'in_progress' or the first 'not_started' if none are in progress)."

3. Collect the results from both tasks.

4. Format the results following the digest-formatter skill's output format and rules.

5. Present the formatted digest to the user.
```

## Step 4: Run the Command

Now test it. In Claude Code, run:

```
/project:daily-digest
```

Watch what happens:

1. Claude Code reads the formatting skill
2. It launches two subagents (you may see Task tool calls)
3. The subagents gather information in parallel
4. Results come back and are formatted according to the skill

The output should follow the format defined in the skill: a clean digest with Recent Activity, Learning Progress (with a progress bar), and a Suggested Next Step.

## Step 5: Iterate on the Skill

The first run might not be perfect. That is expected. Look at the output and consider:

- Is the progress bar accurate?
- Is the language appropriately non-technical?
- Is the digest under 200 words?

If something needs adjustment, update the skill:

```
Edit .claude/skills/digest-formatter/SKILL.md to add: "If there are no recent commits, say 'No changes this week — ready to start learning!' instead of listing empty activity."
```

Run the command again to see the improvement. This iterate-and-refine cycle is how you develop effective skills.

## Step 6: Understand What Happened

Ask Claude Code to explain the workflow:

```
Describe what just happened when I ran /project:daily-digest. What files were read, what subagents were launched, and how were the results combined?
```

Claude Code will walk you through the orchestration:

- The command file defined the workflow
- The formatting skill defined the output structure
- Subagent A checked git history (independent of Subagent B)
- Subagent B checked progress.json (independent of Subagent A)
- The parent agent combined the results using the skill's format

This is the fundamental pattern: **commands orchestrate, skills provide knowledge, subagents do parallel work**.

## What We Built

You created a complete multi-component workflow:

- **A formatting skill** (`digest-formatter/SKILL.md`) — defines the output structure and rules
- **A command file** (`daily-digest.md`) — orchestrates the workflow
- **Parallel subagents** — gather different types of information simultaneously
- **A working daily digest** — combining all components into a useful output

This pattern scales to much more complex workflows. The `/project:init` command that generated this curriculum uses the same architecture — commands, skills, and subagents working together.

## Knowledge Check

1. In the daily-digest workflow, what role does each component play?
   - A) The command gathers data, the skill runs subagents, the subagents format output
   - B) The command orchestrates, the skill defines formatting, the subagents gather data
   - C) The skill orchestrates, the command formats, the subagents verify
   - D) All three components do the same thing

2. In your own words, explain why the two research tasks (git log and progress check) were run as parallel subagents rather than sequentially. What advantage does this provide?

## Next Steps

- [Pull Back the Curtain](./4.5-pull-back-the-curtain.md) — trace the full architecture of this learning project
- [Agentic Patterns Cheat Sheet](./4.6-agentic-patterns-cheat-sheet.md) — quick reference for all the patterns you have learned
